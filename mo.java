import java.io.*;
import java.util.*;
class j
{
public static void main(String aa[])throws IOException
{
BufferedReader b=new BufferedReader(new InputStreamReader(System.in));
int i=0,f=0,g=0,h=0,j=0,k=0,n=0,p=0;
String r,s,t,u;
s=b.readLine();
n=Integer.parseInt(b.readLine());
int d[]=new int[205];
d[0]=0;
String e[]=new String[205];
for(i=0;i<n;i++)
{
r=b.readLine();
StringTokenizer c=new StringTokenizer(r);
r=c.nextToken();
t=c.nextToken();
u=c.nextToken();
if(u.compareTo("on")==0)
u=c.nextToken();
u=(u.substring(0,u.length()-2));
if(u.compareTo(s)==0)
{
for(j=0;j<k;j++)
{
if(e[j].compareTo(r)==0)
{
if(t.compareTo("posted")==0)
d[j]+=15;
if(t.compareTo("commented")==0)
d[j]+=10;
if(t.compareTo("likes")==0)
d[j]+=5;
f=1;
break;
}
}
if(f==0)
{
e[k]=r;
if(t.compareTo("posted")==0)
d[k]+=15;
if(t.compareTo("commented")==0)
d[k]+=10;
if(t.compareTo("likes")==0)
d[k]+=5;
k++;
}
}
if(r.compareTo(s)==0)
{
for(j=0;j<k;j++)
{
if(e[j].compareTo(u)==0)
{
if(t.compareTo("posted")==0)
d[j]+=15;
if(t.compareTo("commented")==0)
d[j]+=10;
if(t.compareTo("likes")==0)
d[j]+=5;
f=1;
break;
}
}
if(f==0)
{
e[k]=u;
if(t.compareTo("posted")==0)
d[k]+=15;
if(t.compareTo("commented")==0)
d[k]+=10;
if(t.compareTo("likes")==0)
d[k]+=5;
k++;
}
}
if(r.compareTo(s)!=0&&u.compareTo(s)!=0)
{
for(j=0;j<k;j++)
{
if(e[j].compareTo(r)==0)
{
g=1;
break;
}
}
if(g==0)
{
e[k]=r;
k++;
}
for(j=0;j<k;j++)
{
if(e[j].compareTo(u)==0)
{
h=1;
break;
}
}
if(h==0)
{
e[k]=u;
k++;
}
}
f=0;
g=0;
h=0;
}
for(i=0;i<k-1;i++)
{
for(j=i+1;j<k;j++)
{
if(d[j]>d[i])
{
t=e[j];
e[j]=e[i];
e[i]=t;
p=d[j];
d[j]=d[i];
d[i]=p;
}
if(d[j]==d[i])
{
if(e[j].compareTo(e[i])<0)
{
t=e[j];
e[j]=e[i];
e[i]=t;
p=d[j];
d[j]=d[i];
d[i]=p;
}
}
}
}
for(i=0;i<k;i++)
System.out.println(e[i]);
}
}